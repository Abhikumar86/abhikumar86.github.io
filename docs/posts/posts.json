[
  {
    "path": "posts/2021-07-21-3d-map/",
    "title": "3d-map",
    "description": "A short description of the post.",
    "author": [
      {
        "name": "Abhishek Kumar",
        "url": "https://akumar.netlify.app"
      }
    ],
    "date": "2021-08-21",
    "categories": [],
    "contents": "\r\n\r\nContents\r\nload the reuired packages\r\n\r\nThe R package rayshader uses different hill shading techniques by calculating a colour for each point on the surface using:\r\nA direct elevation-to-colour mapping: height_shade()\r\nThe surface normals and hemispherical UV mapping: sphere_shade()\r\nLambert Shading Mapping by calculating the dot product between light direction and the surface normal vector: lamb_shade()\r\nshadows calculated by Leland Brown’s “texture shading” method: texture_shade(). This better defines ridges and drainage networks\r\nAmbient occlusion layer darkens the valleys to account for less scattered atmospheric light reaching the valley floor: ambient_shade()\r\n\r\nload the reuired packages\r\n\r\n\r\nlibrary(dplyr)\r\nlibrary(ggplot2)\r\nlibrary(osmdata)\r\nlibrary(raster)\r\nlibrary(rayshader)\r\nlibrary(sf)\r\nlibrary(tmap)\r\n\r\n\r\n\r\nload the elevation data for area of interest and convert to a matrix\r\n\r\n\r\ndem <- raster(\"D:/spatial-data/dem/n30_e076_1arc_v3.tif\") |>\r\n  merge(raster(\"D:/spatial-data/dem/n30_e077_1arc_v3.tif\")) |> \r\n  crop(extent(76.8, 77.1, 30.6, 30.9))\r\n\r\ndem_mat <- raster_to_matrix(dem)\r\n\r\n\r\n\r\nBuild a base map with rayshader\r\n\r\n\r\ndem_mat |> \r\n  height_shade() |> \r\n  plot_map()\r\n\r\n\r\n\r\n\r\nadd a spherical aspect shading colour\r\n\r\n\r\ndem_mat |> \r\n  height_shade() |> \r\n  add_overlay(\r\n    sphere_shade(dem_mat, texture = \"desert\", zscale=4, colorintensity = 5), \r\n    alphalayer=0.5) |>\r\n  plot_map()\r\n\r\n\r\n\r\n\r\noverlay a standard hillshade or Lambertian (cosine) shading\r\n\r\n\r\ndem_mat |> \r\n  height_shade() |> \r\n  add_overlay(\r\n    sphere_shade(dem_mat, texture = \"desert\", zscale = 4, colorintensity = 5), \r\n    alphalayer = 0.5) |>\r\n  add_shadow(lamb_shade(dem_mat, zscale = 6), 0) |>\r\n  plot_map()\r\n\r\n\r\n\r\n\r\nadd shadows calculated by Leland Brown’s “texture shading” method\r\n\r\n\r\ndem_mat |> \r\n  height_shade() |> \r\n  add_overlay(\r\n    sphere_shade(dem_mat, texture = \"desert\", zscale = 4, colorintensity = 5), \r\n    alphalayer = 0.5) |>\r\n  add_shadow(lamb_shade(dem_mat, zscale = 6), 0) |>\r\n  add_shadow(texture_shade(dem_mat, detail = 8/10, contrast = 9, brightness = 11), \r\n             0.1) |>\r\n  plot_map()\r\n\r\n\r\n\r\n\r\nadd an ambient occlusion layer\r\n\r\n\r\nbase_map <- dem_mat |> \r\n  height_shade() |> \r\n  add_overlay(\r\n    sphere_shade(dem_mat, texture = \"desert\", zscale = 4, colorintensity = 5), \r\n    alphalayer = 0.5) |>\r\n  add_shadow(lamb_shade(dem_mat, zscale = 6), 0) |>\r\n  add_shadow(ambient_shade(dem_mat), 0) %>%\r\n  add_shadow(texture_shade(dem_mat, detail = 8/10, contrast = 9, brightness = 11), \r\n             0.1)\r\nbase_map |> plot_map()\r\n\r\n\r\n\r\n\r\nextract major roads from osm and add them\r\n\r\n\r\n# define a bounding box for area of interest\r\nosm_bbox <- c(76.8, 30.6, 77.1, 30.9) # xmin, ymin, xmax, ymax\r\n\r\n# extract highway from osm\r\n#dem_highway <- opq(osm_bbox) |> \r\n  #add_osm_feature(key = \"highway\") |> \r\n  #osmdata_sf()\r\n\r\n# filter major roads\r\n#trunk_roads <- dem_highway$osm_lines |> filter(highway == \"trunk\")\r\n#secondary_roads <- dem_highway$osm_lines |> filter(highway == \"secondary\")\r\n#st_write(trunk_roads, \"data/trunk_road.gpkg\")\r\n#st_write(secondary_roads, \"data/secondary_road.gpkg\")\r\n\r\ntrunk_roads <- st_read(\"data/trunk_road.gpkg\")\r\n\r\n\r\nReading layer `trunk_road' from data source \r\n  `D:\\R\\abhikumar86.github.io\\_posts\\2021-07-21-3d-map\\data\\trunk_road.gpkg' \r\n  using driver `GPKG'\r\nSimple feature collection with 188 features and 32 fields\r\nGeometry type: LINESTRING\r\nDimension:     XY\r\nBounding box:  xmin: 76.78954 ymin: 30.58918 xmax: 77.1175 ymax: 30.91891\r\nGeodetic CRS:  WGS 84\r\n\r\nsecondary_roads <- st_read(\"data/secondary_road.gpkg\")\r\n\r\n\r\nReading layer `secondary_road' from data source \r\n  `D:\\R\\abhikumar86.github.io\\_posts\\2021-07-21-3d-map\\data\\secondary_road.gpkg' \r\n  using driver `GPKG'\r\nSimple feature collection with 126 features and 32 fields\r\nGeometry type: LINESTRING\r\nDimension:     XY\r\nBounding box:  xmin: 76.75612 ymin: 30.59039 xmax: 77.12317 ymax: 30.9053\r\nGeodetic CRS:  WGS 84\r\n\r\n# remove dem_highway\r\nrm(dem_highway)\r\n\r\n# prepare the road layer for overlaying\r\nroads_layer <- generate_line_overlay(trunk_roads, extent = extent(76.8, 77.1, 30.6, 30.9),\r\n                          heightmap = dem_mat,\r\n                          linewidth = 5, color = \"white\") |>\r\n  add_overlay(\r\n    generate_line_overlay(secondary_roads, extent = extent(76.8, 77.1, 30.6, 30.9),\r\n                          heightmap = dem_mat,\r\n                          linewidth = 2.5, color = \"white\"))\r\n# add to base map\r\nbase_map |>\r\n  add_overlay(roads_layer) |>\r\n  plot_map()\r\n\r\n\r\n\r\n\r\nsimilarly extract waterways from osm and add them to base-map\r\n\r\n\r\n# define a bounding box for area of interest\r\nosm_bbox <- c(76.8, 30.6, 77.1, 30.9) # xmin, ymin, xmax, ymax\r\n\r\n# extract waterway (rivers) from osm\r\n#dem_water <- opq(osm_bbox) |> \r\n  #add_osm_feature(key = \"waterway\") |> \r\n  #osmdata_sf()\r\n\r\n# filter major river and streams\r\n#rivers <- dem_water$osm_lines |> filter(waterway == \"river\")\r\n#streams <- dem_water$osm_lines |> filter(waterway != \"river\")\r\n#st_write(rivers, \"data/rivers.gpkg\")\r\n#st_write(streams, \"data/streams.gpkg\")\r\n\r\nrivers <- st_read(\"data/rivers.gpkg\")\r\n\r\n\r\nReading layer `rivers' from data source \r\n  `D:\\R\\abhikumar86.github.io\\_posts\\2021-07-21-3d-map\\data\\rivers.gpkg' \r\n  using driver `GPKG'\r\nSimple feature collection with 30 features and 16 fields\r\nGeometry type: LINESTRING\r\nDimension:     XY\r\nBounding box:  xmin: 74.56863 ymin: 29.4721 xmax: 77.11868 ymax: 30.91332\r\nGeodetic CRS:  WGS 84\r\n\r\nstreams <- st_read(\"data/streams.gpkg\")\r\n\r\n\r\nReading layer `streams' from data source \r\n  `D:\\R\\abhikumar86.github.io\\_posts\\2021-07-21-3d-map\\data\\streams.gpkg' \r\n  using driver `GPKG'\r\nSimple feature collection with 41 features and 16 fields\r\nGeometry type: LINESTRING\r\nDimension:     XY\r\nBounding box:  xmin: 73.5626 ymin: 29.22947 xmax: 77.07197 ymax: 30.8885\r\nGeodetic CRS:  WGS 84\r\n\r\n# remove dem_water\r\n#rm(dem_water)\r\n\r\n# prepare the river and stream layer for overlaying\r\nstream_layer <- generate_line_overlay(rivers, extent = extent(76.8, 77.1, 30.6, 30.9),\r\n                          heightmap = dem_mat, linewidth = 8, color = \"skyblue2\") |>\r\n  add_overlay(\r\n    generate_line_overlay(streams, extent = extent(76.8, 77.1, 30.6, 30.9),\r\n                          heightmap = dem_mat, linewidth = 4, color = \"skyblue\"))\r\n# add to base map\r\nbase_map |>\r\n  add_overlay(stream_layer, alphalayer = 0.8) |>\r\n  add_overlay(roads_layer) |>\r\n  plot_map()\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n",
    "preview": "posts/2021-07-21-3d-map/3d-map_files/figure-html5/unnamed-chunk-3-1.png",
    "last_modified": "2021-07-23T01:04:04+05:30",
    "input_file": {},
    "preview_width": 1248,
    "preview_height": 768
  },
  {
    "path": "posts/2021-08-13-ecology-packages/",
    "title": "R packages for Ecology",
    "description": "A short description of the post.",
    "author": [
      {
        "name": "Abhishek Kumar",
        "url": "https://akumar.netlify.app"
      }
    ],
    "date": "2021-08-13",
    "categories": [],
    "contents": "\r\n\r\n\r\nPackage\r\n\r\n\r\nDescription\r\n\r\n\r\nReference\r\n\r\n\r\nLinks\r\n\r\n\r\nadiv\r\n\r\n\r\nanalyse biodiversity in ecology\r\n\r\n\r\nPavoine (2020)\r\n\r\n\r\n\r\n\r\nBAT\r\n\r\n\r\nmeasurement and estimation of alpha and beta taxon, phylogenetic and functional diversity\r\n\r\n\r\nCardoso, Rigal, and Carvalho (2014)\r\n\r\n\r\n\r\n\r\nbetapart\r\n\r\n\r\npartitioning beta diversity into turnover and nestedness components\r\n\r\n\r\nBaselga and Orme (2012)\r\n\r\n\r\n\r\n\r\nbien\r\n\r\n\r\nBotanical Information and Ecology Network (BIEN) database\r\n\r\n\r\nMaitner et al. (2017)\r\n\r\n\r\n\r\n\r\nbiodivMapR\r\n\r\n\r\nmapping \\(\\alpha\\) and \\(\\beta\\) diversity from remotely sensed images\r\n\r\n\r\nFéret and Boissieu (2019)\r\n\r\n\r\nhttps://jbferet.github.io/biodivMapR/\r\n\r\n\r\nbiomass\r\n\r\n\r\nestimating above-ground biomass and its uncertainty in tropical forests\r\n\r\n\r\nRéjou-Méchain et al. (2017)\r\n\r\n\r\n\r\n\r\nConR\r\n\r\n\r\nlarge-scale multispecies preliminary conservation assessments using distribution data\r\n\r\n\r\nDauby et al. (2017)\r\n\r\n\r\n\r\n\r\necospat\r\n\r\n\r\nspatial analyses and modeling of species niches and distributions\r\n\r\n\r\nCola et al. (2017)\r\n\r\n\r\nhttps://www.unil.ch/ecospat/home/menuguid/ecospat-resources/tools.html\r\n\r\n\r\nENMTools\r\n\r\n\r\ntoolbox for ecological niche modelling in comparative ecological biogeography\r\n\r\n\r\nWarren et al. (2021)\r\n\r\n\r\nhttps://github.com/danlwarren/ENMTools\r\n\r\n\r\nForestFit\r\n\r\n\r\nbayesian modeling for plant height diameter data\r\n\r\n\r\nTeimouri, Doser, and Finley (2020)\r\n\r\n\r\n\r\n\r\nForestGapR\r\n\r\n\r\nforest gap analysis from canopy height models\r\n\r\n\r\nSilva et al. (2019)\r\n\r\n\r\n\r\n\r\nGapAnalysis\r\n\r\n\r\ncalculation of conservation indicators using spatial information\r\n\r\n\r\nCarver et al. (2021)\r\n\r\n\r\nhttps://github.com/CIAT-DAPA/GapAnalysis\r\n\r\n\r\ngeodiv\r\n\r\n\r\ngradient surface metrics to provide continuous measures of landscape heterogeneity\r\n\r\n\r\nSmith et al. (2021)\r\n\r\n\r\n\r\n\r\ngeoorigin\r\n\r\n\r\ntrait mapping and geographic provenancing of specimens without categorical constraints\r\n\r\n\r\nHulme-Beaman et al. (2020)\r\n\r\n\r\n\r\n\r\nGerminaR\r\n\r\n\r\ngermination analysis for plants\r\n\r\n\r\nLozano-Isla, Benites-Alfaro, and Pompelli (2019)\r\n\r\n\r\n\r\n\r\nHmsc\r\n\r\n\r\nHierarchical Modelling of Species Communities with Joint species distribution models\r\n\r\n\r\nTikhonov et al. (2020)\r\n\r\n\r\nhttps://github.com/hmsc-r/HMSC\r\n\r\n\r\nletsR\r\n\r\n\r\ndata handling and analysis in macroecology\r\n\r\n\r\nVilela and Villalobos (2015)\r\n\r\n\r\n\r\n\r\nMBHdesign\r\n\r\n\r\nEfficient spatial survey design\r\n\r\n\r\nFoster (2020)\r\n\r\n\r\n\r\n\r\nMIAmaxent\r\n\r\n\r\nVariable transformation and model selection for species distribution models\r\n\r\n\r\nVollering, Halvorsen, and Mazzoni (2019)\r\n\r\n\r\n\r\n\r\nmobsim\r\n\r\n\r\nsimulation and measurement of biodiversity across spatial scales\r\n\r\n\r\nMay et al. (2018)\r\n\r\n\r\n\r\n\r\nNicheMapR\r\n\r\n\r\nbiophysical modelling: the microclimate model\r\n\r\n\r\nKearney and Porter (2016)\r\n\r\n\r\nhttps://mrke.github.io/\r\n\r\n\r\nnlstimedist\r\n\r\n\r\nquantification of unimodal phenology distributions\r\n\r\n\r\nSteer, Ramsay, and Franco (2019)\r\n\r\n\r\n\r\n\r\nntbox\r\n\r\n\r\nmodelling and evaluating multidimensional ecological niches\r\n\r\n\r\nOsorio-Olvera et al. (2020)\r\n\r\n\r\nhttps://luismurao.github.io/ntbox_user_guide.html\r\n\r\n\r\nphyloregion\r\n\r\n\r\nbiogeographical regionalization and macroecology\r\n\r\n\r\nDaru, Karunarathne, and Schliep (2020)\r\n\r\n\r\nhttps://phyloregion.com/\r\n\r\n\r\nphyr\r\n\r\n\r\nphylogenetic species-distribution modelling in ecological communities\r\n\r\n\r\nLi et al. (2020)\r\n\r\n\r\nhttps://daijiang.github.io/phyr/\r\n\r\n\r\nR2MCDS\r\n\r\n\r\nanalysis of multi-species datasets collected using distance sampling\r\n\r\n\r\nBolduc, Roy, and Rousseu (2018)\r\n\r\n\r\nhttps://github.com/RoyChristian/R2MCDS\r\n\r\n\r\nrasterdiv\r\n\r\n\r\nmeasuring ecosystem heterogeneity from space\r\n\r\n\r\nRocchini et al. (2021)\r\n\r\n\r\nhttps://github.com/mattmar/rasterdiv\r\n\r\n\r\nred\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nsars\r\n\r\n\r\nfitting, evaluating and comparing species–area relationship models\r\n\r\n\r\nMatthews et al. (2019)\r\n\r\n\r\n\r\n\r\nsegRDA\r\n\r\n\r\npiecewise redundancy analysis\r\n\r\n\r\nVieira et al. (2019)\r\n\r\n\r\n\r\n\r\nspatialwarnings\r\n\r\n\r\nMonitoring ecosystem degradation using spatial data\r\n\r\n\r\nGénin et al. (2018)\r\n\r\n\r\n\r\n\r\nssdm\r\n\r\n\r\npredict distribution of species richness and composition based on stacked species distribution models\r\n\r\n\r\nSchmitt et al. (2017)\r\n\r\n\r\nhttps://github.com/sylvainschmitt/SSDM\r\n\r\n\r\nSSP\r\n\r\n\r\nestimation of sampling effort in studies of ecological communities\r\n\r\n\r\nGuerra-Castro et al. (2021)\r\n\r\n\r\nhttps://github.com/edlinguerra/SSP\r\n\r\n\r\nV.PhyloMaker\r\n\r\n\r\ngenerate very large phylogenies for vascular plants\r\n\r\n\r\nJin and Qian (2019)\r\n\r\n\r\n\r\n\r\nVoCC\r\n\r\n\r\nvelocity of climate change and related climatic metrics\r\n\r\n\r\nMolinos et al. (2019)\r\n\r\n\r\n\r\n\r\nwallace\r\n\r\n\r\nreproducible modeling of species niches and distributions\r\n\r\n\r\nKass et al. (2018)\r\n\r\n\r\nhttps://wallaceecomod.github.io/\r\n\r\n\r\nzoon\r\n\r\n\r\nreproducible and shareable species distribution modelling\r\n\r\n\r\nGolding et al. (2017)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nBaselga, Andrés, and C. David L. Orme. 2012. “Betapart: An r Package for the Study of Beta Diversity.” Methods in Ecology and Evolution 3 (5): 808–12. https://doi.org/10.1111/j.2041-210x.2012.00224.x.\r\n\r\n\r\nBolduc, François, Christian Roy, and François Rousseu. 2018. “R2mcds: An r Package for the Analysis of Multi-Species Datasets Collected Using Distance Sampling.” Ecological Informatics 47: 23–25. https://doi.org/10.1016/j.ecoinf.2017.10.003.\r\n\r\n\r\nCardoso, Pedro, François Rigal, and José C. Carvalho. 2014. “BAT Biodiversity Assessment Tools, an r Package for the Measurement and Estimation of Alpha and Beta Taxon, Phylogenetic and Functional Diversity.” Methods in Ecology and Evolution 6 (2): 232–36. https://doi.org/10.1111/2041-210x.12310.\r\n\r\n\r\nCarver, Daniel, Chrystian C. Sosa, Colin K. Khoury, Harold A. Achicanoy, Maria Victoria Diaz, Steven Sotelo, Nora P. Castañeda-Álvarez, and Julian Ramirez-Villegas. 2021. “GapAnalysis: An r Package to Calculate Conservation Indicators Using Spatial Information.” Ecography 44 (7): 1000–1009. https://doi.org/10.1111/ecog.05430.\r\n\r\n\r\nCola, Valeria Di, Olivier Broennimann, Blaise Petitpierre, Frank T. Breiner, Manuela DAmen, Christophe Randin, Robin Engler, et al. 2017. “Ecospat: An r Package to Support Spatial Analyses and Modeling of Species Niches and Distributions.” Ecography 40 (6): 774–87. https://doi.org/10.1111/ecog.02671.\r\n\r\n\r\nDaru, Barnabas H., Piyal Karunarathne, and Klaus Schliep. 2020. “Phyloregion: R Package for Biogeographical Regionalization and Macroecology.” Methods in Ecology and Evolution 11 (11): 1483–91. https://doi.org/10.1111/2041-210x.13478.\r\n\r\n\r\nDauby, Gilles, Tariq Stévart, Vincent Droissart, Ariane Cosiaux, Vincent Deblauwe, Murielle Simo-Droissart, Marc S. M. Sosef, et al. 2017. “ConR: An r Package to Assist Large-Scale Multispecies Preliminary Conservation Assessments Using Distribution Data.” Ecology and Evolution 7 (24): 11292–303. https://doi.org/10.1002/ece3.3704.\r\n\r\n\r\nFéret, Jean-Baptiste, and Florian Boissieu. 2019. “biodivMapR: An r Package for \\(\\alpha\\)- and \\(\\beta\\)-Diversity Mapping Using Remotely Sensed Images.” Methods in Ecology and Evolution 11 (1): 64–70. https://doi.org/10.1111/2041-210x.13310.\r\n\r\n\r\nFoster, Scott D. 2020. “MBHdesign: An r-Package for Efficient Spatial Survey Designs.” Methods in Ecology and Evolution 12 (3): 415–20. https://doi.org/10.1111/2041-210x.13535.\r\n\r\n\r\nGénin, Alexandre, Sabiha Majumder, Sumithra Sankaran, Alain Danet, Vishwesha Guttal, Florian D. Schneider, and Sonia Kéfi. 2018. “Monitoring Ecosystem Degradation Using Spatial Data and the r Package Spatialwarnings.” Methods in Ecology and Evolution 9 (10): 2067–75. https://doi.org/10.1111/2041-210x.13058.\r\n\r\n\r\nGolding, Nick, Tom A. August, Tim C. D. Lucas, David J. Gavaghan, E. Emiel Loon, and Greg McInerny. 2017. “The Zoon r Package for Reproducible and Shareable Species Distribution Modelling.” Methods in Ecology and Evolution 9 (2): 260–68. https://doi.org/10.1111/2041-210x.12858.\r\n\r\n\r\nGuerra-Castro, Edlin J., Juan Carlos Cajas, Nuno Simões, Juan J. Cruz-Motta, and Maite Mascaró. 2021. “SSP: An r Package to Estimate Sampling Effort in Studies of Ecological Communities.” Ecography 44 (4): 561–73. https://doi.org/10.1111/ecog.05284.\r\n\r\n\r\nHulme-Beaman, Ardern, Anna Rudzinski, Joseph E. J. Cooper, Robert F. Lachlan, Keith Dobney, and Mark G. Thomas. 2020. “Geoorigins: A New Method and r Package for Trait Mapping and Geographic Provenancing of Specimens Without Categorical Constraints.” Methods in Ecology and Evolution 11 (10): 1247–57. https://doi.org/10.1111/2041-210x.13444.\r\n\r\n\r\nJin, Yi, and Hong Qian. 2019. “V.PhyloMaker: An r Package That Can Generate Very Large Phylogenies for Vascular Plants.” Ecography 42 (8): 1353–59. https://doi.org/10.1111/ecog.04434.\r\n\r\n\r\nKass, Jamie M., Bruno Vilela, Matthew E. Aiello-Lammens, Robert Muscarella, Cory Merow, and Robert P. Anderson. 2018. “Wallace: A Flexible Platform for Reproducible Modeling of Species Niches and Distributions Built for Community Expansion.” Methods in Ecology and Evolution 9 (4): 1151–56. https://doi.org/10.1111/2041-210x.12945.\r\n\r\n\r\nKearney, Michael R., and Warren P. Porter. 2016. “NicheMapR  an r Package for Biophysical Modelling: The Microclimate Model.” Ecography 40 (5): 664–74. https://doi.org/10.1111/ecog.02360.\r\n\r\n\r\nLi, Daijiang, Russell Dinnage, Lucas A. Nell, Matthew R. Helmus, and Anthony R. Ives. 2020. “Phyr: An r Package for Phylogenetic Species-Distribution Modelling in Ecological Communities.” Methods in Ecology and Evolution 11 (11): 1455–63. https://doi.org/10.1111/2041-210x.13471.\r\n\r\n\r\nLozano-Isla, Flavio, Omar E. Benites-Alfaro, and Marcelo F. Pompelli. 2019. “GerminaR: An r Package for Germination Analysis with the Interactive Web Application “GerminaQuant for r”.” Ecological Research 34 (2): 339–46. https://doi.org/10.1111/1440-1703.1275.\r\n\r\n\r\nMaitner, Brian S., Brad Boyle, Nathan Casler, Rick Condit, John Donoghue, Sandra M. Durán, Daniel Guaderrama, et al. 2017. “The Bien r Package: A Tool to Access the Botanical Information and Ecology Network (BIEN) Database.” Methods in Ecology and Evolution 9 (2): 373–79. https://doi.org/10.1111/2041-210x.12861.\r\n\r\n\r\nMatthews, Thomas J., Kostas A. Triantis, Robert J. Whittaker, and François Guilhaumon. 2019. “Sars: An r Package for Fitting, Evaluating and Comparing Speciesarea Relationship Models.” Ecography 42 (8): 1446–55. https://doi.org/10.1111/ecog.04271.\r\n\r\n\r\nMay, Felix, Katharina Gerstner, Daniel J. McGlinn, Xiao Xiao, and Jonathan M. Chase. 2018. “Mobsim: An r Package for the Simulation and Measurement of Biodiversity Across Spatial Scales.” Methods in Ecology and Evolution 9 (6): 1401–8. https://doi.org/10.1111/2041-210x.12986.\r\n\r\n\r\nMolinos, Jorge Garcı́a, David S. Schoeman, Christopher J. Brown, and Michael T. Burrows. 2019. “VoCC: An r Package for Calculating the Velocity of Climate Change and Related Climatic Metrics.” Methods in Ecology and Evolution 10 (12): 2195–2202. https://doi.org/10.1111/2041-210x.13295.\r\n\r\n\r\nOsorio-Olvera, Luis, Andrés Lira-Noriega, Jorge Soberón, Andrew Townsend Peterson, Manuel Falconi, Rusby G. Contreras-Dı́az, Enrique Martı́nez-Meyer, Vijay Barve, and Narayani Barve. 2020. “Ntbox: An r Package with Graphical User Interface for Modelling and Evaluating Multidimensional Ecological Niches.” Methods in Ecology and Evolution 11 (10): 1199–1206. https://doi.org/10.1111/2041-210x.13452.\r\n\r\n\r\nPavoine, Sandrine. 2020. “Adiv: An r Package to Analyse Biodiversity in Ecology.” Methods in Ecology and Evolution 11 (9): 1106–12. https://doi.org/10.1111/2041-210x.13430.\r\n\r\n\r\nRéjou-Méchain, Maxime, Ariane Tanguy, Camille Piponiot, Jérôme Chave, and Bruno Hérault. 2017. “Biomass: An r Package for Estimating Above-Ground Biomass and Its Uncertainty in Tropical Forests.” Methods in Ecology and Evolution 8 (9): 1163–67. https://doi.org/10.1111/2041-210x.12753.\r\n\r\n\r\nRocchini, Duccio, Elisa Thouverai, Matteo Marcantonio, Martina Iannacito, Daniele Da Re, Michele Torresani, Giovanni Bacaro, et al. 2021. “Rasterdivan Information Theory Tailored r Package for Measuring Ecosystem Heterogeneity from Space: To the Origin and Back.” Methods in Ecology and Evolution 12 (6): 1093–1102. https://doi.org/10.1111/2041-210x.13583.\r\n\r\n\r\nSchmitt, Sylvain, Robin Pouteau, Dimitri Justeau, Florian Boissieu, and Philippe Birnbaum. 2017. “Ssdm: An r Package to Predict Distribution of Species Richness and Composition Based on Stacked Species Distribution Models.” Methods in Ecology and Evolution 8 (12): 1795–1803. https://doi.org/10.1111/2041-210x.12841.\r\n\r\n\r\nSilva, Carlos A., Ruben Valbuena, Ekena R. Pinagé, Midhun Mohan, Danilo R. A. Almeida, Eben North Broadbent, Wan Shafrina Wan Mohd Jaafar, Daniel Papa, Adrian Cardil, and Carine Klauberg. 2019. “ForestGapR: An r Package for Forest Gap Analysis from Canopy Height Models.” Methods in Ecology and Evolution 10 (8): 1347–56. https://doi.org/10.1111/2041-210x.13211.\r\n\r\n\r\nSmith, Annie C., Kyla M. Dahlin, Sydne Record, Jennifer K. Costanza, Adam M. Wilson, and Phoebe L. Zarnetske. 2021. “The Geodiv r Package: Tools for Calculating Gradient Surface Metrics.” Methods in Ecology and Evolution. https://doi.org/10.1111/2041-210x.13677.\r\n\r\n\r\nSteer, Nicola C., Paul M. Ramsay, and Miguel Franco. 2019. “Nlstimedist: An r Package for the Biologically Meaningful Quantification of Unimodal Phenology Distributions.” Methods in Ecology and Evolution 10 (11): 1934–40. https://doi.org/10.1111/2041-210x.13293.\r\n\r\n\r\nTeimouri, Mahdi, Jeffrey W. Doser, and Andrew O. Finley. 2020. “ForestFit: An r Package for Modeling Plant Size Distributions.” Environmental Modelling & Software 131: 104668. https://doi.org/10.1016/j.envsoft.2020.104668.\r\n\r\n\r\nTikhonov, Gleb, Øystein H. Opedal, Nerea Abrego, Aleksi Lehikoinen, Melinda M. J. Jonge, Jari Oksanen, and Otso Ovaskainen. 2020. “Joint Species Distribution Modelling with the r-Package Hmsc.” Methods in Ecology and Evolution 11 (3): 442–47. https://doi.org/10.1111/2041-210x.13345.\r\n\r\n\r\nVieira, Danilo Cândido, Marco Colossi Brustolin, Fábio Cop Ferreira, and Gustavo Fonseca. 2019. “segRDA: An r Package for Performing Piecewise Redundancy Analysis.” Methods in Ecology and Evolution 10 (12): 2189–94. https://doi.org/10.1111/2041-210x.13300.\r\n\r\n\r\nVilela, Bruno, and Fabricio Villalobos. 2015. “letsR: A New r Package for Data Handling and Analysis in Macroecology.” Methods in Ecology and Evolution 6 (10): 1229–34. https://doi.org/10.1111/2041-210x.12401.\r\n\r\n\r\nVollering, Julien, Rune Halvorsen, and Sabrina Mazzoni. 2019. “The MIAmaxent r Package: Variable Transformation and Model Selection for Species Distribution Models.” Ecology and Evolution 9 (21): 12051–68. https://doi.org/10.1002/ece3.5654.\r\n\r\n\r\nWarren, Dan L., Nicholas J. Matzke, Marcel Cardillo, John B. Baumgartner, Linda J. Beaumont, Michael Turelli, Richard E. Glor, et al. 2021. “ENMTools 1.0: An r Package for Comparative Ecological Biogeography.” Ecography 44 (4): 504–11. https://doi.org/10.1111/ecog.05485.\r\n\r\n\r\n\r\n\r\n",
    "preview": {},
    "last_modified": "2021-08-17T21:27:11+05:30",
    "input_file": {}
  },
  {
    "path": "posts/2021-07-21-singrauli-map/",
    "title": "Singrauli Map",
    "description": "A short description of the post.",
    "author": [
      {
        "name": "Abhishek Kumar",
        "url": "https://akumar.netlify.app"
      }
    ],
    "date": "2021-07-21",
    "categories": [],
    "contents": "\r\n\r\nContents\r\nLoad the packages\r\nPrepare a base hillshade\r\nadd water element\r\nadd major roads\r\nadd coal mine boundaries\r\nprepare inset map\r\nfinal main map\r\narrange and save the final maps\r\n\r\n\r\nLoad the packages\r\n\r\n\r\nShow code\r\n\r\nlibrary(dplyr)\r\nlibrary(grid) # arranging inset maps\r\nlibrary(OpenStreetMap) # OSM Maps and data\r\nlibrary(osmdata) # osm data download\r\nlibrary(raster) # raster data and operations\r\nlibrary(sf) # simple features for spatial data\r\nlibrary(tmap) # thematic mapping\r\nlibrary(tmaptools) \r\n\r\n\r\n\r\nPrepare a base hillshade\r\n\r\n\r\nShow code\r\n\r\nbb <- c(82.48, 24.1, 82.8, 24.2) # extent for target site as left, bottom, right, upper\r\n\r\n#dem <- getData(name = \"SRTM\", lon = 84, lat = 24, path = \"./dem/\") # download data from SRTM\r\n\r\n#dem_crop <- dem %>% crop(extent(82.48, 82.8, 24.1, 24.2)) # cropped to target site\r\n#rm(dem) # remove dem from environment\r\n\r\n#slope <- terrain(dem_crop, opt= \"slope\") # extract slope from dem_crop\r\n#aspect <- terrain(dem_crop, opt= \"aspect\") # extract aspect from dem_crop\r\n#dem_hs <- hillShade(slope = slope, aspect = aspect, angle = 45, direction = 315) # prepare hill shade\r\n# 45 altitude angle and 315 azimuth angle\r\n\r\n#writeRaster(x = dem_hs, filename = \"./data/dem_hs.tif\", overwrite = T) # write to local directory\r\n#rm(slope, aspect) # removed slope and aspect files\r\n\r\nhs <- raster(\"./data/dem_hs.tif\") # read the hillshade file\r\n\r\ntm_shape(hs) + \r\n      tm_raster(palette = \"-Greys\", n = 100, style = \"cont\", alpha = 0.7,\r\n                         legend.show = FALSE)\r\n\r\n\r\n\r\n\r\nadd water element\r\n\r\n\r\nShow code\r\n\r\n# https://storage.googleapis.com/earthenginepartners-hansen/GFC-2019-v1.7/Hansen_GFC-2019-v1.7_datamask_30N_080E.tif\r\n\r\n#water <- raster(\"./data/Hansen_GFC2014_datamask_30N_080E.tif\") %>% \r\n      #crop(extent(82.48, 82.8, 24.1, 24.2)) %>% \r\n      #calc(fun = function(x){x[x == 1] <- NA; return(x)})\r\n#writeRaster(x = water, filename = \"./data/singrauli-water.tif\", overwrite = T) # write to local directory\r\n\r\nwater <- raster(\"./data/singrauli-water.tif\") # read the hillshade file\r\n\r\n# colors for water #4a80f5, #9bbff4, #a7cdf2, #AADAFF\r\n\r\ntm_shape(hs) + \r\n      tm_raster(palette = \"-Greys\", n = 100, style = \"cont\", alpha = 0.7,\r\n                         legend.show = FALSE) + # hillshade\r\n      tm_shape(water) + \r\n      tm_raster(palette = c(\"#9bbff4\"), style = \"cat\", legend.show = FALSE)  # water\r\n\r\n\r\n\r\n\r\nadd major roads\r\n\r\n\r\nShow code\r\n\r\n#s_roads <- opq(bbox = bb) %>% # xmin, ymin, xmax, ymax\r\n      #add_osm_feature(key = \"highway\", value = c(\"trunk\")) %>% \r\n      #osmdata_sf()\r\n#s_roads <- s_roads$osm_lines\r\n#st_write(s_roads, \"./data/singrauli-road/singrauli-road.shp\")\r\n\r\ns_roads <- st_read(\"./data/singrauli-road/singrauli-road.shp\")\r\n\r\n\r\nReading layer `singrauli-road' from data source \r\n  `D:\\R\\abhikumar86.github.io\\_posts\\2021-07-21-singrauli-map\\data\\singrauli-road\\singrauli-road.shp' \r\n  using driver `ESRI Shapefile'\r\nSimple feature collection with 30 features and 9 fields\r\nGeometry type: LINESTRING\r\nDimension:     XY\r\nBounding box:  xmin: 82.4536 ymin: 24.08979 xmax: 82.77473 ymax: 24.20791\r\nGeodetic CRS:  GCS_unknown\r\n\r\nShow code\r\n\r\ns_roads <- s_roads %>% st_set_crs(4326)\r\n\r\ntm_shape(hs) + tm_raster(palette = \"-Greys\", n = 100, style = \"cont\", alpha = 0.7,\r\n                         legend.show = FALSE) + # hillshade\r\n      \r\n      tm_shape(water) + tm_raster(palette = c(\"#9bbff4\"), style = \"cat\",  \r\n                            legend.show = FALSE) + # water\r\n      \r\n      tm_shape(s_roads) + tm_lines(col = \"ref\", palette = c(\"grey50\", \"grey40\"),\r\n                                   lwd = 2.5, legend.col.show = FALSE) # roads\r\n\r\n\r\n\r\n\r\nadd coal mine boundaries\r\n\r\n\r\nShow code\r\n\r\n#s_mines <- opq(bbox = bb) %>% # xmin, ymin, xmax, ymax\r\n       #add_osm_feature(key = \"landuse\", value = \"quarry\") %>% \r\n       #osmdata_sf()\r\n#s_mines <- s_mines$osm_polygons\r\n#st_write(s_mines, \"./data/singrauli-mines/singrauli-mines.shp\")\r\n\r\n# coal mines\r\ncm <- st_read(\"./data/singrauli-mines/singrauli-mines.shp\") \r\n\r\n\r\nReading layer `singrauli-mines' from data source \r\n  `D:\\R\\abhikumar86.github.io\\_posts\\2021-07-21-singrauli-map\\data\\singrauli-mines\\singrauli-mines.shp' \r\n  using driver `ESRI Shapefile'\r\nSimple feature collection with 10 features and 5 fields\r\nGeometry type: POLYGON\r\nDimension:     XY\r\nBounding box:  xmin: 82.54869 ymin: 24.11217 xmax: 82.77247 ymax: 24.21588\r\nGeodetic CRS:  GCS_unknown\r\n\r\nShow code\r\n\r\ncm$mine <- c(\"Khadia\", \"\", \"Bina\", \"Amlohri\", \"Dudhichua\", \"\", \r\n             \"Jhingurdah\", \"Kakri\", \"Nigahi\", \"Block-B\")\r\n\r\n# jayant mine\r\ncmj <- cm %>% dplyr::filter(name == \"Jayant Mine\") \r\ncmj$mine <- \"Jayant\"\r\n\r\ntm_shape(hs) + tm_raster(palette = \"-Greys\", n = 100, style = \"cont\", alpha = 0.7,\r\n                         legend.show = FALSE) + # hillshade\r\n      \r\n      tm_shape(water) + tm_raster(palette = c(\"#9bbff4\"), style = \"cat\",  \r\n                            legend.show = FALSE) + # water\r\n      \r\n      tm_shape(s_roads) + tm_lines(col = \"ref\", palette = c(\"grey50\", \"grey40\"),\r\n                                   lwd = 2.5, legend.col.show = FALSE) + # roads\r\n      tm_shape(cm) + \r\n      tm_fill(col = \"yellow\", alpha = 0.1) + \r\n      tm_borders(col = \"grey50\") +\r\n      tm_text(text = \"mine\") + # coal mine shapes\r\n      \r\n      tm_shape(cmj) + tm_fill(col = \"yellow\", alpha = 0.5) + \r\n      tm_text(text = \"mine\") +\r\n      tm_borders(col = \"black\")  # Jayant Mine shape\r\n\r\n\r\n\r\n\r\nprepare inset map\r\nhttps://map.igismap.com/gis-data/india/administrative_state_boundary?utm_source=website&utm_medium=datadownload&utm_campaign=india\r\nhttps://map.igismap.com/gis-data/india/administrative_assembly_constituencies_boundary?utm_source=website&utm_medium=datadownload&utm_campaign=india\r\n\r\n\r\nShow code\r\n\r\n# https://www.naturalearthdata.com/download/50m/cultural/ne_50m_admin_0_countries.zip\r\nworld_adm <- st_read(\"D:/spatial-data/admin/ne_world_adm/ne_50m_admin_0_countries.shp\")\r\n\r\n\r\nReading layer `ne_50m_admin_0_countries' from data source \r\n  `D:\\spatial-data\\admin\\ne_world_adm\\ne_50m_admin_0_countries.shp' \r\n  using driver `ESRI Shapefile'\r\nSimple feature collection with 241 features and 94 fields\r\nGeometry type: MULTIPOLYGON\r\nDimension:     XY\r\nBounding box:  xmin: -180 ymin: -89.99893 xmax: 180 ymax: 83.59961\r\nGeodetic CRS:  WGS 84\r\n\r\nShow code\r\n\r\n# Indian states\r\nind_adm <- st_read(\"D:/spatial-data/admin/ind_adm1/ind_adm1.shp\")\r\n\r\n\r\nReading layer `ind_adm1' from data source \r\n  `D:\\spatial-data\\admin\\ind_adm1\\ind_adm1.shp' using driver `ESRI Shapefile'\r\nSimple feature collection with 37 features and 4 fields\r\nGeometry type: MULTIPOLYGON\r\nDimension:     XY\r\nBounding box:  xmin: 68.09348 ymin: 6.754368 xmax: 97.4115 ymax: 37.07761\r\nGeodetic CRS:  WGS 84\r\n\r\nShow code\r\n\r\n# https://map.igismap.com/gis-data/india/administrative_outline_boundary?utm_source=website&utm_medium=datadownload&utm_campaign=india\r\n\r\nind_adm0 <- st_read(\"D:/spatial-data/admin/ind_adm0/ind_adm0.shp\")\r\n\r\n\r\nReading layer `ind_adm0' from data source \r\n  `D:\\spatial-data\\admin\\ind_adm0\\ind_adm0.shp' using driver `ESRI Shapefile'\r\nSimple feature collection with 1 feature and 4 fields\r\nGeometry type: MULTIPOLYGON\r\nDimension:     XY\r\nBounding box:  xmin: 68.18625 ymin: 6.755953 xmax: 97.41529 ymax: 37.07827\r\nGeodetic CRS:  WGS 84\r\n\r\nShow code\r\n\r\n#s_bb <- bb_poly(hs, projection = 4326) # bounding box \r\n\r\ns_bb <- st_bbox(obj = c(xmin = 81.5, xmax = 83.5, ymin = 23.5, ymax = 24.5),\r\n                    crs = st_crs(hs)) %>% \r\n      st_as_sfc()\r\n\r\ninset_map <- tm_shape(world_adm, bbox = st_bbox(ind_adm)) + \r\n      tm_fill(col = \"grey95\") +\r\n      \r\n      tm_shape(ind_adm) + tm_fill(col = \"grey90\") + tm_borders(col = \"grey70\", lwd = 0.5) +\r\n      \r\n      tm_shape(ind_adm0) + tm_borders(lwd = 0.75) +\r\n      \r\n      tm_shape(s_bb) + tm_borders(col = \"red\", lwd = 0.75) +\r\n      \r\n      tm_layout(bg.color = \"#9bbff4\", frame = \"grey85\")\r\n\r\n#rm(cm, cmj, hs, ind_adm, ind_adm0, s_bb, s_roads, water, world_adm) # remove undesired files\r\n\r\n\r\n\r\naspect ratios for main map and inset map\r\n\r\n\r\nShow code\r\n\r\n# aspect ratio for main map\r\nxy <- st_bbox(hs)\r\nasp <- (xy$ymax - xy$ymin)/(xy$xmax - xy$xmin) \r\n\r\n# aspect ratio inset map\r\nxy <- st_bbox(ind_adm)\r\nasp2 <- (xy$ymax - xy$ymin)/(xy$xmax - xy$xmin)\r\n\r\n\r\n\r\nfinal main map\r\n\r\n\r\nShow code\r\n\r\nmain_map <- tm_shape(hs) + \r\n      tm_raster(palette = \"-Greys\", n = 100, style = \"cont\", alpha = 0.7,\r\n                legend.show = FALSE) + # hillshade\r\n      \r\n      tm_graticules(col = \"grey80\") + # graticules\r\n      \r\n      tm_shape(water) + \r\n      tm_raster(palette = c(\"#9bbff4\"), style = \"cat\", legend.show = FALSE) + # water\r\n      \r\n      tm_shape(s_roads) + \r\n      tm_lines(col = \"grey50\", lwd = 2.5) + # roads\r\n      \r\n      tm_shape(cm) + \r\n      tm_fill(col = \"yellow\", alpha = 0.1) + \r\n      tm_borders(col = \"grey50\") +\r\n      tm_text(text = \"mine\") + # coal mine shapes\r\n      \r\n      tm_shape(cmj) + tm_fill(col = \"yellow\", alpha = 0.5) + \r\n      tm_text(text = \"mine\") +\r\n      tm_borders(col = \"black\") + # Jayant Mine shape\r\n      \r\n      tm_compass(position = c(\"right\", \"top\")) + # North Arrow\r\n      \r\n      tm_scale_bar(position = c(0.6, 0.015), breaks = c(0, 2.5, 5, 7.5, 10)) + # scale\r\n      \r\n      tm_add_legend(type = \"fill\", labels = \"Coal Mine\", col = \"yellow\", alpha = 0.1,\r\n                    border.col = \"grey50\") + # mine legend\r\n      tm_add_legend(type = \"line\", labels = \"Road\", col = \"grey50\", lwd = 2.5) + # road legend\r\n      tm_add_legend(type = \"fill\", labels = \"Water\", col = \"#9bbff4\", border.col = NA) + # water legend\r\n      \r\n      tm_layout(legend.position = c(0.0035, 0.01), legend.width = 0.6, legend.height = 0.6*asp2,\r\n                legend.bg.color = \"white\", legend.bg.alpha = 0.9,\r\n                legend.text.size = 0.75, legend.frame = \"grey85\")\r\n\r\nmain_map\r\n\r\n\r\n\r\n\r\narrange and save the final maps\r\n# Create viewport\r\nvp <- viewport(x = 0.115, y = 0.98, width = unit(1, \"inches\"), \r\n               height = unit(1*asp2, \"inches\"), just = c(\"left\", \"top\"))\r\n\r\n# save the map\r\ntmap_save(main_map, filename = \"./data/singrauli-map.png\", insets_tm = inset_map, \r\n          insets_vp = vp, height = asp*7, width = 7, units = \"in\", dpi = 300)\r\n\r\n# save map in pdf\r\ntmap_save(main_map, filename = \"./data/singrauli-map.pdf\", insets_tm = inset_map, \r\n          insets_vp = vp, height = asp*7, width = 7, units = \"in\", dpi = 300)\r\n\r\n\r\nShow code\r\n\r\nknitr::include_graphics(\"./data/singrauli-map.png\")\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n",
    "preview": "posts/2021-07-21-singrauli-map/singrauli-map_files/figure-html5/hillshade-1.png",
    "last_modified": "2021-07-21T01:29:03+05:30",
    "input_file": {},
    "preview_width": 1248,
    "preview_height": 768
  },
  {
    "path": "posts/welcome/",
    "title": "Welcome to Abhishek Kumar",
    "description": "Welcome to our new blog, Abhishek Kumar. We hope you enjoy \nreading what we have to say!",
    "author": [
      {
        "name": "Abhishek Kumar",
        "url": "https://akumar.netlify.app"
      }
    ],
    "date": "2021-07-21",
    "categories": [],
    "contents": "\r\n\r\n\r\n\r\n",
    "preview": {},
    "last_modified": "2021-07-21T01:12:12+05:30",
    "input_file": {}
  }
]
